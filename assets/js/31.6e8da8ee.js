(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{475:function(e,r,t){"use strict";t.r(r);var s=t(36),a=Object(s.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"redis相关笔记"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#redis相关笔记"}},[e._v("#")]),e._v(" Redis相关笔记")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://redis.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis官网"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://mp.weixin.qq.com/s/IDtIbUTzY1I4gONdu8LX4w",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis数据备份，容灾恢复手段"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.runoob.com/redis/redis-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis菜鸟教程"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://mp.weixin.qq.com/s/amlC7kSrKB3NmSqTn938uA",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis可视化工具最全的横向评测"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://s1.ax1x.com/2020/08/26/dRNlKf.png",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis可视化工具性能对比图"),r("OutboundLink")],1)])]),e._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("基于Docker的Redis搭建方法")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v('## 单节点\ndocker pull redis:3.2\n# 无密码模式 以appendonly备份，该备份是采用增量保存写命令方式备份\ndocker run -p 6379:6379 --name myredis -v $PWD/data:/data  -d redis:3.2 redis-server --appendonly yes\n# 有密码模式 xxxxxxx 为要设置的密码\ndocker run -p 6379:6379 --name myredis -v $PWD/data:/data  -d redis:3.2 redis-server --appendonly yes --requirepass "xxxxxxx"\ndocker exec -it myredis redis-cli\n## 集群模式【只能用于测试环境，不能用于生产环境】\ndocker pull tommy351/redis-cluster\ndocker run --name myredisc -v $PWD/data:/data -p 7000:7000 -p 7001:7001 -p 7002:7002 -p 7003:7003 -p 7004:7004 -p 7005:7005 -d tommy351/redis-cluster\ndocker exec -it myredis /bin/sh\ndocker exec -it myredisc redis-cli -h 49.233.170.108 -p 7000 -c\n# 解决公网访问出现 redis TTL exhausted.异常信息问题，使用CLUSTER_ANNOUNCE_IP发布。\ndocker run --name myredisc -v $PWD/data:/data -p 7000:7000 -p 7001:7001 -p 7002:7002 -p 7003:7003 -p 7004:7004 -p 7005:7005 \\\n-e CLUSTER_ANNOUNCE_IP=127.0.0.1 -d tommy351/redis-cluster\t\n')])])])]),e._v(" "),r("h3",{attrs:{id:"redis订阅发布模式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#redis订阅发布模式"}},[e._v("#")]),e._v(" Redis订阅发布模式")]),e._v(" "),r("ol",[r("li",[e._v("SpringBoot中集成的订阅发布模式中"),r("br"),e._v("\na，每个节点启动后，都会和订阅的队列连接，分布式部署，就是多个消费节点，需要加连接控制。"),r("br"),e._v("\nb，每次接收消息，都是一个新的线程去接收，而不是之前的线程。")]),e._v(" "),r("li",[e._v("一旦消息被发送，如果没有订阅者接收，那么消息就会丢失。")]),e._v(" "),r("li",[e._v("消息传输保障，当客户端连接超时或事务回滚等情况发生时，消息会被重新发送给客户端，Redis没有提供消息传输保障。")])]),e._v(" "),r("h3",{attrs:{id:"实践问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实践问题"}},[e._v("#")]),e._v(" 实践问题")]),e._v(" "),r("ol",[r("li",[e._v("向发布订阅的队列中推送JSON数据格式问题？"),r("br"),e._v("\nPUBLISH  channel  message"),r("br"),e._v('\nmessage中JSON中的单引号(")需要加反斜杠()转义，然后整个JSON在加上双引号，'),r("br"),e._v('\n示例：{"name":"dkgee","age":"29"}  放入Redis中格式  "{"name":"dkgee","age":"29"}"')])])])}),[],!1,null,null,null);r.default=a.exports}}]);